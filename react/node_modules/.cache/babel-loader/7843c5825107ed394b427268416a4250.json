{"ast":null,"code":"/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { AggregatorKind } from '../types';\nimport { hrTime } from '@opentelemetry/core';\n/** Basic aggregator which calculates a Sum from individual measurements. */\n\nvar SumAggregator =\n/** @class */\nfunction () {\n  function SumAggregator() {\n    this.kind = AggregatorKind.SUM;\n    this._current = 0;\n    this._lastUpdateTime = [0, 0];\n  }\n\n  SumAggregator.prototype.update = function (value) {\n    this._current += value;\n    this._lastUpdateTime = hrTime();\n  };\n\n  SumAggregator.prototype.toPoint = function () {\n    return {\n      value: this._current,\n      timestamp: this._lastUpdateTime\n    };\n  };\n\n  return SumAggregator;\n}();\n\nexport { SumAggregator };","map":{"version":3,"sources":["../../../../src/export/aggregators/Sum.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;AAcG;AAEH,SAAqB,cAArB,QAA8D,UAA9D;AAEA,SAAS,MAAT,QAAuB,qBAAvB;AAEA;;AACA,IAAA,aAAA;AAAA;AAAA,YAAA;EAAA,SAAA,aAAA,GAAA;IACS,KAAA,IAAA,GAA2B,cAAc,CAAC,GAA1C;IACC,KAAA,QAAA,GAAmB,CAAnB;IACA,KAAA,eAAA,GAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B;EAaT;;EAXC,aAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,KAAP,EAAoB;IAClB,KAAK,QAAL,IAAiB,KAAjB;IACA,KAAK,eAAL,GAAuB,MAAM,EAA7B;EACD,CAHD;;EAKA,aAAA,CAAA,SAAA,CAAA,OAAA,GAAA,YAAA;IACE,OAAO;MACL,KAAK,EAAE,KAAK,QADP;MAEL,SAAS,EAAE,KAAK;IAFX,CAAP;EAID,CALD;;EAMF,OAAA,aAAA;AAAC,CAhBD,EAAA","sourceRoot":"","sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { AggregatorKind } from '../types';\nimport { hrTime } from '@opentelemetry/core';\n/** Basic aggregator which calculates a Sum from individual measurements. */\nvar SumAggregator = /** @class */ (function () {\n    function SumAggregator() {\n        this.kind = AggregatorKind.SUM;\n        this._current = 0;\n        this._lastUpdateTime = [0, 0];\n    }\n    SumAggregator.prototype.update = function (value) {\n        this._current += value;\n        this._lastUpdateTime = hrTime();\n    };\n    SumAggregator.prototype.toPoint = function () {\n        return {\n            value: this._current,\n            timestamp: this._lastUpdateTime,\n        };\n    };\n    return SumAggregator;\n}());\nexport { SumAggregator };\n//# sourceMappingURL=Sum.js.map"]},"metadata":{},"sourceType":"module"}