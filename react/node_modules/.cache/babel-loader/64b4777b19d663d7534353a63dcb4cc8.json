{"ast":null,"code":"/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { AggregatorKind } from '../types';\nimport { hrTime } from '@opentelemetry/core';\n/** Basic aggregator for LastValue which keeps the last recorded value. */\n\nvar LastValueAggregator =\n/** @class */\nfunction () {\n  function LastValueAggregator() {\n    this._current = 0;\n    this._lastUpdateTime = [0, 0];\n    this.kind = AggregatorKind.LAST_VALUE;\n  }\n\n  LastValueAggregator.prototype.update = function (value) {\n    this._current = value;\n    this._lastUpdateTime = hrTime();\n  };\n\n  LastValueAggregator.prototype.toPoint = function () {\n    return {\n      value: this._current,\n      timestamp: this._lastUpdateTime\n    };\n  };\n\n  return LastValueAggregator;\n}();\n\nexport { LastValueAggregator };","map":{"version":3,"sources":["../../../../src/export/aggregators/LastValue.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;AAcG;AAEH,SACE,cADF,QAKO,UALP;AAOA,SAAS,MAAT,QAAuB,qBAAvB;AAEA;;AACA,IAAA,mBAAA;AAAA;AAAA,YAAA;EAAA,SAAA,mBAAA,GAAA;IACU,KAAA,QAAA,GAAmB,CAAnB;IACA,KAAA,eAAA,GAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B;IACR,KAAA,IAAA,GAAkC,cAAc,CAAC,UAAjD;EAaD;;EAXC,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,KAAP,EAAoB;IAClB,KAAK,QAAL,GAAgB,KAAhB;IACA,KAAK,eAAL,GAAuB,MAAM,EAA7B;EACD,CAHD;;EAKA,mBAAA,CAAA,SAAA,CAAA,OAAA,GAAA,YAAA;IACE,OAAO;MACL,KAAK,EAAE,KAAK,QADP;MAEL,SAAS,EAAE,KAAK;IAFX,CAAP;EAID,CALD;;EAMF,OAAA,mBAAA;AAAC,CAhBD,EAAA","sourceRoot":"","sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { AggregatorKind, } from '../types';\nimport { hrTime } from '@opentelemetry/core';\n/** Basic aggregator for LastValue which keeps the last recorded value. */\nvar LastValueAggregator = /** @class */ (function () {\n    function LastValueAggregator() {\n        this._current = 0;\n        this._lastUpdateTime = [0, 0];\n        this.kind = AggregatorKind.LAST_VALUE;\n    }\n    LastValueAggregator.prototype.update = function (value) {\n        this._current = value;\n        this._lastUpdateTime = hrTime();\n    };\n    LastValueAggregator.prototype.toPoint = function () {\n        return {\n            value: this._current,\n            timestamp: this._lastUpdateTime,\n        };\n    };\n    return LastValueAggregator;\n}());\nexport { LastValueAggregator };\n//# sourceMappingURL=LastValue.js.map"]},"metadata":{},"sourceType":"module"}